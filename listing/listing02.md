Что выведет программа? Объяснить вывод программы. Объяснить как работают defer’ы и их порядок вызовов.

```go
package main

import (
	"fmt"
)


func test() (x int) {
	defer func() {
		x++
	}()
	x = 1
	return
}


func anotherTest() int {
	var x int
	defer func() {
		x++
	}()
	x = 1
	return x
}


func main() {
	fmt.Println(test())
	fmt.Println(anotherTest())
}
```

Ответ:
```
2
1

Так происходит из-за особенностей работы defer.

Например, если отложенная функция является функциональным литералом (как в нашем случае), а
окружающая функция имеет именованные параметры результата (как в нашем случае),
которые находятся в области видимости внутри литерала, отложенная функция может
получить доступ к параметрам результата и изменить их до того, как они будут возвращены.

На самом деле, x изменяется в обоих случаях, но есть разница.

В первом случае, где именнованная переменная, х = 1, затем этот x кладется в return,
вызывается defer (и так как это именнованная переменная), то defer работает прям с ней
и значение x обновляется, в нашем случае увеличивается на 1, то есть значение x в 
return обновляется

Во втором же случае, где у нас просто локальная переменная, x = 1, этот x кладется в return
и когда вызывается defer, он изменят x, но это изменение не влияет на x, который лежит в return.
Поэтому мы и видим вывод 1, а не 2.

```
